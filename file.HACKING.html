<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>File: HACKING</title>
<link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="_index.html" title="Index">Index</a> &raquo; 
    <span class="title">File: HACKING</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><div id='filecontents'><h1>Hacking the Framework</h1>

<p>This file contains some brief instructions on contributing to Arachni.</p>

<h2>Code Style</h2>

<p>In order to maintain consistency and keep the code pretty you should
adhere to the following guidelines:</p>

<ul>
<li>4 spaces, no tabs.</li>
<li>Maximum line length 75-80 columns, try not to exceed that limit.</li>
<li>{} instead of "<code>do</code>" for blocks and keep the iterator var in it's own line.<br/>
 Like so:

<pre class="code"> <span class='id arr'>arr</span><span class='period'>.</span><span class='id each'>each</span> <span class='lbrace'>{</span>
     <span class='op'>|</span><span class='id item'>item</span><span class='op'>|</span>
 <span class='rbrace'>}</span>
</pre></li>
</ul>


<p>In general, take a look at the existing code and try to follow that style.</p>

<h2>Code No-Nos</h2>

<p><strong>1. Don't print to standard output.</strong><br/>
The interface in use won't be able to see your output and route it
accordingly.</p>

<p>Arachni provides you with wrappers that you can use, take a look in <span class='object_link'><a href="Arachni/UI/Output.html" title="Arachni::UI::Output (module)">Arachni::UI::Output</a></span>.<br/>
All UIs will provide these methods to handle your output, use them.</p>

<p><strong>2. Don't use "sleep".</strong><br/>
It is unlikely that you will need it, but if you do, use
<code>select(nil, nil, nil, &lt;time&gt;)</code> instead to avoid multi-threading issues.</p>

<p><strong>3. Avoid creating your own instance of Net::HTTP or other lib.</strong><br/>
You are provided with pre-configured wrapper (<span class='object_link'><a href="Arachni/Module/Base.html#http-instance_method" title="Arachni::Module::Base#http (method)">Arachni::Module::Base#http</a></span>) of <a href="http://github.com/pauldix/typhoeus">Typhoeus</a>.</p>

<p>Take a look in the tutorial module to see what you get: <span class='object_link'><a href="Arachni/Modules/Audit/SimpleRFI.html" title="Arachni::Modules::Audit::SimpleRFI (class)">Arachni::Modules::Audit::SimpleRFI</a></span></p>

<p>The base module will also give you some insights: <span class='object_link'><a href="Arachni/Module/Base.html" title="Arachni::Module::Base (class)">Arachni::Module::Base</a></span></p>

<p>If you absolutely have to bypass Arachni's facilities you must obey the
run-time settings in <span class='object_link'><a href="Arachni/Options.html" title="Arachni::Options (class)">Arachni::Options</a></span>.</p>

<h2>Creating New Modules</h2>

<p>Arachni provides you with examples for the usual types of modules.</p>

<p>This is your main guide: <span class='object_link'><a href="Arachni/Modules/Audit/SimpleRFI.html" title="Arachni::Modules::Audit::SimpleRFI (class)">Arachni::Modules::Audit::SimpleRFI</a></span></p>

<p>This covers most of the usual tasks when writing a module.
It lets Arachni do all the work.</p>

<p>For something more elaborate look in:<br/>
- <span class='object_link'><a href="Arachni/Modules/Audit/ResponseSplitting.html" title="Arachni::Modules::Audit::ResponseSplitting (class)">Arachni::Modules::Audit::ResponseSplitting</a></span><br/>
- <span class='object_link'><a href="Arachni/Modules/Audit/SQLInjection.html" title="Arachni::Modules::Audit::SQLInjection (class)">Arachni::Modules::Audit::SQLInjection</a></span></p>

<p>These modules do their own vulnerability checking and logging.</p>

<p>If you want to create coupled modules take a look in:<br/>
- <span class='object_link'><a href="Arachni/Modules/Recon/ExtractObjects.html" title="Arachni::Modules::Recon::ExtractObjects (class)">Arachni::Modules::Recon::ExtractObjects</a></span><br/>
- <span class='object_link'><a href="Arachni/Modules/Audit/AuditObjects.html" title="Arachni::Modules::Audit::AuditObjects (class)">Arachni::Modules::Audit::AuditObjects</a></span></p>

<p>In this case <span class='object_link'><a href="Arachni/Modules/Recon/ExtractObjects.html" title="Arachni::Modules::Recon::ExtractObjects (class)">Arachni::Modules::Recon::ExtractObjects</a></span> extracts information from the
web pages and saves it in the module datastore.</p>

<p>The datastore is persistent and shared between all modules.</p>

<p><span class='object_link'><a href="Arachni/Modules/Audit/AuditObjects.html" title="Arachni::Modules::Audit::AuditObjects (class)">Arachni::Modules::Audit::AuditObjects</a></span> then gets the data harvested by <span class='object_link'><a href="Arachni/Modules/Recon/ExtractObjects.html" title="Arachni::Modules::Recon::ExtractObjects (class)">Arachni::Modules::Recon::ExtractObjects</a></span>
and handles it accordingly.</p>

<p>One last note.
You're probably going to be working with large arrays of strings,
either regular expressions or strings to inject to the webapp,
so it's better to keep them in an external file under:</p>

<pre class="code">modules/&lt;modname&gt;/
</pre>

<p>Use "<span class='object_link'><a href="Arachni/Module/Base.html#get_data_file-instance_method" title="Arachni::Module::Base#get_data_file (method)">Arachni::Module::Base#get_data_file</a></span><code>( filename ){ |line| }</code>" to get the file line by line.<br/>
You just pass the filename (no path), <code>get_data_file()</code> will take care of the rest.</p>

<p>This will make the strings easier to update and keep your modules smaller.</p>

<p>In general, before writing a module copy an existing one that's close
to your needs and modify it.</p>

<h2>Creating New Reports</h2>

<p>The only thing that you should keep in mind when creating a new report
is to adhere to the structure shown in: <span class='object_link'><a href="Arachni/Reports/AP.html" title="Arachni::Reports::AP (class)">Arachni::Reports::AP</a></span>.<br/>
Also look in: <span class='object_link'><a href="Arachni/Report/Base.html" title="Arachni::Report::Base (class)">Arachni::Report::Base</a></span>.</p>

<p>If you want your users to be able to customize the report you can
provide them with a set of options, as in <span class='object_link'><a href="Arachni/Reports/HTML.html" title="Arachni::Reports::HTML (class)">Arachni::Reports::HTML</a></span>'s <code>self.info()</code> return hash.</p>

<p>Keep in minds though that Arachni does not do any checking for these options,
you will have to take care of that yourself.</p>

<p>However, do provide an appropriate default <code>outfile</code> value in <code>initialize()</code>.</p>

<p>Other than that you can do whatever you want, you have all of Ruby's
power to work with.</p>

<h2>Licensing</h2>

<p>All code must be contributed with a GPL v2 compatible license.<br/>
Do place licensing information in your code files.</p></div></div>
    
    <div id="footer">
  Generated on Thu Oct  7 13:41:34 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.1 (ruby-1.9.2).
</div>

  </body>
</html>